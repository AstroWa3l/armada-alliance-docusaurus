"use strict";(self.webpackChunkarmada_alliance_docusaurus=self.webpackChunkarmada_alliance_docusaurus||[]).push([[95],{3905:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return h}});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=d(a),h=o,m=c["".concat(s,".").concat(h)]||c[h]||p[h]||r;return a?n.createElement(m,i(i({ref:t},u),{},{components:a})):n.createElement(m,i({ref:t},u))}));function h(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var d=2;d<r;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},4206:function(e,t,a){a.r(t),a.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return h},frontMatter:function(){return l},metadata:function(){return d},toc:function(){return p}});var n=a(7462),o=a(3366),r=(a(7294),a(3905)),i=["components"],l={description:"Quickly bootstrap a synced configured node in a few hours."},s="Pi-Node (Quick Start)",d={unversionedId:"stake-pool-guides/pi-pool-tutorial/pi-node",id:"stake-pool-guides/pi-pool-tutorial/pi-node",title:"Pi-Node (Quick Start)",description:"Quickly bootstrap a synced configured node in a few hours.",source:"@site/i18n/fi/docusaurus-plugin-content-docs/current/stake-pool-guides/pi-pool-tutorial/pi-node.md",sourceDirName:"stake-pool-guides/pi-pool-tutorial",slug:"/stake-pool-guides/pi-pool-tutorial/pi-node",permalink:"/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/pi-node",editUrl:"https://github.com/rekuenkdr/armada-alliance-docusaurus/edit/master/docs/stake-pool-guides/pi-pool-tutorial/pi-node.md",tags:[],version:"current",frontMatter:{description:"Quickly bootstrap a synced configured node in a few hours."},sidebar:"tutorialSidebar",previous:{title:"Environment Setup",permalink:"/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/environment-setup"},next:{title:"Pi-Relay",permalink:"/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/pi-relay"}},u={},p=[{value:"Choose testnet or mainnet. <strong>Defaults to testnet</strong>.",id:"choose-testnet-or-mainnet-defaults-to-testnet",level:2},{value:"Retrieve node files",id:"retrieve-node-files",level:3},{value:"3. Enter the pi-pool folder.",id:"3-enter-the-pi-pool-folder",level:3},{value:"4. Download database snapshot.",id:"4-download-database-snapshot",level:3},{value:"5. Enable &amp; start the cardano-service.",id:"5-enable--start-the-cardano-service",level:3},{value:"6. Enable &amp; start the cardano-monitor.",id:"6-enable--start-the-cardano-monitor",level:3},{value:"7. Confirm they are running.",id:"7-confirm-they-are-running",level:3},{value:"8. gliveview.sh",id:"8-gliveviewsh",level:3},{value:"9. Grafana.",id:"9-grafana",level:3},{value:"Dashboards can be found here.",id:"dashboards-can-be-found-here",level:4}],c={toc:p};function h(e){var t=e.components,a=(0,o.Z)(e,i);return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"pi-node-quick-start"},"Pi-Node (Quick Start)"),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"After booting the image it will take about 30 minutes to download the chain and another couple hours or so to sync to the tip. You will not be able to do much until your node has synced with the tip of the block chain.")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"It can take anywhere from 2 to 60 minutes to sync after a reboot depending how the node was shut down or restarted. Check if process is running with htop. If it is, use gLiveView.sh or go for walk. It will sync and the socket will be created."),(0,r.kt)("p",{parentName:"div"},"It is best to just leave it running. \ud83c\udfc3\u2640 :::"),(0,r.kt)("h3",{parentName:"div",id:"1-download-and-flash-the-pi-nodeimggz"},(0,r.kt)("strong",{parentName:"h3"},"1. Download and flash the")," ",(0,r.kt)("a",{parentName:"h3",href:"https://mainnet.adamantium.online/Pi-Node.img.gz"},(0,r.kt)("strong",{parentName:"a"},"Pi-Node.img.gz")),(0,r.kt)("strong",{parentName:"h3"},".")),(0,r.kt)("h3",{parentName:"div",id:"2-ssh-into-the-server"},"2. ssh into the server."),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ssh ada@<pi-node private IPv4>\n")),(0,r.kt)("p",{parentName:"div"},"Default credentials = ",(0,r.kt)("strong",{parentName:"p"},"ada:lovelace")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cardano-node version\n")),(0,r.kt)("p",null,":::"),(0,r.kt)("h2",{id:"choose-testnet-or-mainnet-defaults-to-testnet"},"Choose testnet or mainnet. ",(0,r.kt)("strong",{parentName:"h2"},"Defaults to testnet"),"."),(0,r.kt)("p",null,"Switch between testnet & mainnet, for mainnet issue.. Config file path /home/ada/.adaenv"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'sed -i .adaenv -e "s/NODE_CONFIG=testnet/NODE_CONFIG=mainnet/g"; source .adaenv\n')),(0,r.kt)("h3",{id:"retrieve-node-files"},"Retrieve node files"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd $NODE_FILES\nwget -N https://hydra.iohk.io/build/${NODE_BUILD_NUM}/download/1/${NODE_CONFIG}-config.json\nwget -N https://hydra.iohk.io/build/${NODE_BUILD_NUM}/download/1/${NODE_CONFIG}-byron-genesis.json\nwget -N https://hydra.iohk.io/build/${NODE_BUILD_NUM}/download/1/${NODE_CONFIG}-shelley-genesis.json\nwget -N https://hydra.iohk.io/build/${NODE_BUILD_NUM}/download/1/${NODE_CONFIG}-alonzo-genesis.json\nwget -N https://hydra.iohk.io/build/${NODE_BUILD_NUM}/download/1/${NODE_CONFIG}-topology.json\nwget -N https://raw.githubusercontent.com/input-output-hk/cardano-node/master/cardano-submit-api/config/tx-submit-mainnet-config.yaml\n")),(0,r.kt)("p",null,'Run the following to modify ${NODE_CONFIG}-config.json and update TraceBlockFetchDecisions to "true" & listen on all interfaces with Prometheus Node Exporter.'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'sed -i ${NODE_CONFIG}-config.json \\\n    -e "s/TraceBlockFetchDecisions\\": false/TraceBlockFetchDecisions\\": true/g" \\\n    -e "s/127.0.0.1/0.0.0.0/g"\n')),(0,r.kt)("h3",{id:"3-enter-the-pi-pool-folder"},"3. Enter the pi-pool folder."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd /home/ada/pi-pool\n")),(0,r.kt)("h3",{id:"4-download-database-snapshot"},"4. Download database snapshot."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'wget -r -np -nH -R "index.html*" -e robots=off https://$NODE_CONFIG.adamantium.online/db/\n')),(0,r.kt)("h3",{id:"5-enable--start-the-cardano-service"},"5. Enable & start the cardano-service."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cardano-service enable\ncardano-service start\n")),(0,r.kt)("h3",{id:"6-enable--start-the-cardano-monitor"},"6. Enable & start the cardano-monitor."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cardano-monitor enable\ncardano-monitor start\n")),(0,r.kt)("h3",{id:"7-confirm-they-are-running"},"7. Confirm they are running."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cardano-service status\ncardano-monitor status\n")),(0,r.kt)("p",null,"Follow journal output or syslog"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"sudo journalctl --unit=cardano-node --follow\nsudo tail -f /var/log/syslog\n")),(0,r.kt)("h3",{id:"8-gliveviewsh"},"8. gliveview.sh"),(0,r.kt)("p",null,"allow these files to update if they wish to."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd $NODE_HOME/scripts\n./gLiveView.sh\n")),(0,r.kt)("h3",{id:"9-grafana"},"9. Grafana."),(0,r.kt)("p",null,"Enter your Node's IPv4 address in your browser."),(0,r.kt)("p",null,"Default credentials = ",(0,r.kt)("strong",{parentName:"p"},"admin:admin")),(0,r.kt)("h4",{id:"dashboards-can-be-found-here"},"Dashboards can be found here."),(0,r.kt)("p",null,'{% embed url="',(0,r.kt)("a",{parentName:"p",href:"https://github.com/armada-alliance/dashboards%22"},'https://github.com/armada-alliance/dashboards"')," %}"),(0,r.kt)("p",null,'{% embed url="',(0,r.kt)("a",{parentName:"p",href:"https://api.pooldata.live/%22"},'https://api.pooldata.live/"')," %}"),(0,r.kt)("p",null,":::info The following guide builds out the image, use it as a reference and please feel free to ask for clarification in our Telegram channel. ",(0,r.kt)("a",{parentName:"p",href:"https://t.me/armada_alli"},"https://t.me/armada","_","alli")," :::"))}h.isMDXComponent=!0}}]);